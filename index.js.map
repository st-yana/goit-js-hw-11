{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImages = (searchValue) => {\n  const params = new URLSearchParams({\n    key: '46368026-ceb8dba76cba5a0f9c417db4a',\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true'\n  });\n  return fetch(`https://pixabay.com/api/?${params.toString()}`, {})\n    .then(response => response.json());\n}","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst simpleLightboxGallery = new SimpleLightbox('.search-result li a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport const renderToastOnSearchEmpty = (parentContainer) => {\n  parentContainer.innerHTML = '';\n  iziToast.error({\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n};\n\nexport const renderGallery = (parentContainer, images) => {\n  parentContainer.innerHTML = images.map(renderImage).join('');\n  simpleLightboxGallery.refresh();\n  console.log('simpleLightboxGallery', simpleLightboxGallery);\n};\n\nexport const renderLoader = (parentContainer) => {\n  parentContainer.innerHTML = `<span class='loader'/>`;\n};\n\nconst renderImage = (image) => {\n  return `\n    <li class='search-result-item'>\n      <a href='${image.largeImageURL}'>\n        <img class='search-result-item-image' src='${image.webformatURL}' alt='${image.tags}'/>\n      </a>\n      <ul class='search-result-item-text'>\n        <li class='field'>\n          <div class='label'>\n            Likes\n          </div>\n          <div class='value'>\n            ${image.likes}\n          </div>\n        </li>\n        <li class='field'>\n          <div class='label'>\n            Views\n          </div>\n          <div class='value'>\n            ${image.views}\n          </div>\n        </li>\n        <li class='field'>\n          <div class='label'>\n            Comments\n          </div>\n          <div class='value'>\n            ${image.comments}\n          </div>\n        </li>\n        <li class='field'>\n          <div class='label'>\n            Downloads\n          </div>\n          <div class='value'>\n            ${image.downloads}\n          </div>\n        </li>\n      </ul>\n    </li>\n  `;\n};","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, renderLoader, renderToastOnSearchEmpty } from './js/render-functions.js';\n\nconst form = document.querySelector('form');\nconst input = document.querySelector('input');\nconst searchResultContainer = document.querySelector('.search-result')\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  searchResultContainer.innerHTML = '';\n  renderLoader(searchResultContainer);\n  fetchImages(input.value)\n    .then((images) => {\n      if (images.hits.length === 0) {\n        renderToastOnSearchEmpty(searchResultContainer);\n      }\n      renderGallery(searchResultContainer, images.hits)\n      console.log(images);\n      console.log(images);\n    });\n});\n\n"],"names":["fetchImages","searchValue","params","response","simpleLightboxGallery","SimpleLightbox","renderToastOnSearchEmpty","parentContainer","iziToast","renderGallery","images","renderImage","renderLoader","image","form","input","searchResultContainer","event"],"mappings":"6vBAAO,MAAMA,EAAeC,GAAgB,CAC1C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,EAAO,SAAU,CAAA,GAAI,EAAE,EAC7D,KAAKC,GAAYA,EAAS,KAAM,CAAA,CACrC,ECLMC,EAAwB,IAAIC,EAAe,sBAAuB,CACtE,aAAc,MACd,aAAc,GAChB,CAAC,EAEYC,EAA4BC,GAAoB,CAC3DA,EAAgB,UAAY,GAC5BC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACd,CAAG,CACH,EAEaC,EAAgB,CAACF,EAAiBG,IAAW,CACxDH,EAAgB,UAAYG,EAAO,IAAIC,CAAW,EAAE,KAAK,EAAE,EAC3DP,EAAsB,QAAO,EAC7B,QAAQ,IAAI,wBAAyBA,CAAqB,CAC5D,EAEaQ,EAAgBL,GAAoB,CAC/CA,EAAgB,UAAY,wBAC9B,EAEMI,EAAeE,GACZ;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,qDACiBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQ7EA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,IC7DvBC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAwB,SAAS,cAAc,gBAAgB,EAErEF,EAAK,iBAAiB,SAAWG,GAAU,CACzCA,EAAM,eAAc,EACpBD,EAAsB,UAAY,GAClCJ,EAAaI,CAAqB,EAClChB,EAAYe,EAAM,KAAK,EACpB,KAAML,GAAW,CACZA,EAAO,KAAK,SAAW,GACzBJ,EAAyBU,CAAqB,EAEhDP,EAAcO,EAAuBN,EAAO,IAAI,EAChD,QAAQ,IAAIA,CAAM,EAClB,QAAQ,IAAIA,CAAM,CACxB,CAAK,CACL,CAAC"}